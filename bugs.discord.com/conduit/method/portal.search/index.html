<!DOCTYPE html><html><head><meta charset="UTF-8" /><title>â‡µ portal.search</title><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /><link rel="mask-icon" color="#3D4B67" href="https://bugs.discord.com/res/phabricator/db699fe1/rsrc/favicons/mask-icon.svg" /><link rel="apple-touch-icon" sizes="76x76" href="https://bugs.discord.com/file/data/63uvzg6knmj3sg2sbvak/PHID-FILE-jsc3zsdl77pgdc37ffou/favicon" /><link rel="apple-touch-icon" sizes="120x120" href="https://bugs.discord.com/file/data/tja3wcpp7vkdqzwzdexv/PHID-FILE-332njydycsstzj5rr4f3/favicon" /><link rel="apple-touch-icon" sizes="152x152" href="https://bugs.discord.com/file/data/xde6ook2dzi6i56dsmsb/PHID-FILE-qgq4yzhkpns4ilofh2zf/favicon" /><link rel="icon" id="favicon" href="https://bugs.discord.com/file/data/kiapeo7fhtj3b5cfvqew/PHID-FILE-rgnwytggxw7ujcl5bidp/favicon" /><meta name="referrer" content="no-referrer" /><link rel="stylesheet" type="text/css" href="https://bugs.discord.com/res/defaultX/phabricator/0ae696de/core.pkg.css" /><link rel="stylesheet" type="text/css" href="https://bugs.discord.com/res/defaultX/phabricator/ce2cfc41/rsrc/css/application/conduit/conduit-api.css" /><script type="text/javascript" src="https://bugs.discord.com/res/defaultX/phabricator/98e6504a/rsrc/externals/javelin/core/init.js"></script></head><body class="device-desktop platform-mac phui-theme-dark"><div class="main-page-frame" id="main-page-frame"><div id="phabricator-standard-page" class="phabricator-standard-page"><div class="phabricator-main-menu phabricator-main-menu-background" id="UQ0_10"><a class=" phabricator-core-user-menu phabricator-core-user-mobile-menu" href="#" role="button" data-sigil="phui-dropdown-menu" data-meta="0_10"><span class="aural-only">Page Menu</span><span class="visual-only phui-icon-view phui-font-fa fa-bars" data-meta="0_11" aria-hidden="true"></span><span class="caret"></span></a><a class="phabricator-main-menu-search-button phabricator-expand-application-menu" data-sigil="jx-toggle-class" data-meta="0_9"><span class="phabricator-menu-button-icon phui-icon-view phui-font-fa fa-search" id="UQ0_25"></span></a><a class="phabricator-main-menu-brand" href="/"><span class="aural-only">Home</span><span class="phabricator-main-menu-eye" style="background-size: 40px 40px; background-position: 0 0; background-image: url(https://bugs.discord.com/file/data/qtsy2fpzl3ldxxysgqyz/PHID-FILE-llllw2qt5zhlykym3eg7/logo)"></span><span class="phabricator-wordmark">Discord Bugs</span></a><ul class="phui-list-view phabricator-search-menu"><li class="phui-list-item-view phui-list-item-type-link phabricator-main-menu-search"><div class="" data-sigil=""><form action="/search/" method="POST"><input type="hidden" name="__csrf__" value="B@4ohq3nzif638f60f5fc29a3a" /><input type="hidden" name="__form__" value="1" /><div class="phabricator-main-menu-search-container"><input type="text" name="query" id="UQ0_26" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><button id="UQ0_28" class="phui-icon-view phui-font-fa fa-search"><span class="aural-only">Search</span></button><button class="button dropdown has-icon phui-button-default phabricator-main-menu-search-dropdown" id="UQ0_29" data-sigil="global-search-dropdown" data-meta="0_12"><span class="aural-only">Configure Global Search</span><span class="visual-only phui-icon-view phui-font-fa fa-globe" data-sigil="global-search-dropdown-icon" data-meta="0_13" aria-hidden="true"></span><span class="caret"></span></button><input type="hidden" name="search:scope" value="all" data-sigil="global-search-dropdown-input" /><input type="hidden" id="UQ0_30" name="search:application" value="PhabricatorConduitApplication" data-sigil="global-search-dropdown-app" /><input type="hidden" name="search:primary" value="true" /><div id="UQ0_27" class="phabricator-main-menu-search-target"></div></div></form></div></li></ul><a class=" phabricator-core-login-button" href="https://bugs.discord.com/auth/start/?next=%2Fconduit%2Fmethod%2Fportal.search%2F" role="button"><div class="phui-button-text">Log In</div></a></div><div id="phabricator-standard-page-body" class="phabricator-standard-page-body"><div class="phui-crumbs-view phui-crumbs-border"><a href="/conduit/" class="phui-crumb-view phui-crumb-has-icon"><span class="visual-only phui-icon-view phui-font-fa fa-tty" data-meta="0_14" aria-hidden="true"></span><span class="phui-crumb-name"> Conduit</span> </a><span class="visual-only phui-icon-view phui-font-fa fa-angle-right phui-crumb-divider phui-crumb-view" data-meta="0_15" aria-hidden="true"></span><span class="phui-crumb-view phabricator-last-crumb"><span class="phui-crumb-name"> portal.search</span> </span></div><div class="phui-two-column-view phui-side-column-right "><div class="phui-two-column-container"><div class="phui-two-column-header"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header"><span class="visual-only phui-icon-view phui-font-fa fa-tty phui-header-icon" data-meta="0_8" aria-hidden="true"></span>portal.search</span></div><div class="phui-header-col3"></div></div></h1></div></div><div class="phui-two-column-content"><div class="phui-two-column-row grouped"><div class="phui-side-column"></div><div class="phui-main-column"></div></div></div><div class="phui-two-column-content phui-two-column-footer"><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">API Method: portal.search</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-info-view phui-info-severity-error grouped phui-info-has-icon "><div class="phui-info-view-icon"><span class="visual-only phui-icon-view phui-font-fa fa-exclamation-circle phui-info-icon" data-meta="0_0" aria-hidden="true"></span></div><div class="phui-info-view-body">Login Required: This method requires authentication. You must log in before you can make calls to it.</div></div><div class="phui-property-list-section"><div class="phui-property-list-container grouped"><div class="phui-property-list-properties-wrap "><dl class="phui-property-list-properties"><dt class="phui-property-list-key">Returns </dt><dd class="phui-property-list-value">map&lt;string, wild&gt; </dd><dt class="phui-property-list-key">Errors </dt><dd class="phui-property-list-value"><ul><li><strong>ERR-CONDUIT-CORE:</strong> See error message for details.</li></ul> </dd><dt class="phui-property-list-key">OAuth Scope </dt><dd class="phui-property-list-value"><span class="visual-only phui-icon-view phui-font-fa fa-ban red" data-meta="0_1" aria-hidden="true"></span> OAuth clients may never call this method. </dd></dl></div></div><div class="phui-property-list-section-header"><span class="phui-property-list-section-header-icon"><span class="visual-only phui-icon-view phui-font-fa fa-align-left bluegrey" data-meta="0_2" aria-hidden="true"></span>Description</span></div><div class="phui-property-list-text-content"><div class="phabricator-remarkup"><p>This is a standard <strong>ApplicationSearch</strong> method which will let you list, query, or search for objects. For documentation on these endpoints, see <strong><a href="https://secure.phabricator.com/diviner/find/?name=Conduit%20API%3A%20Using%20Search%20Endpoints&amp;type=article&amp;jump=1" class="remarkup-link" target="_blank" rel="noreferrer">Conduit API: Using Search Endpoints</a></strong>.</p></div></div></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-collapsed phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Builtin and Saved Queries</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>You can choose a builtin or saved query as a starting point for filtering
results by selecting it with <tt class="remarkup-monospaced">queryKey</tt>. If you don&#039;t specify a <tt class="remarkup-monospaced">queryKey</tt>,
the query will start with no constraints.</p>

<p>For example, many applications have builtin queries like <tt class="remarkup-monospaced">&quot;active&quot;</tt> or
<tt class="remarkup-monospaced">&quot;open&quot;</tt> to find only active or enabled results. To use a <tt class="remarkup-monospaced">queryKey</tt>, specify
it like this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Selecting a Builtin Query</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;queryKey&quot;</span><span class="o">:</span> <span class="s">&quot;active&quot;</span><span class="o">,</span>
  ...
<span class="o">}</span></pre></div>

<p>The table below shows the keys to use to select builtin queries and your
saved queries, but you can also use <strong>any</strong> query you run via the web UI as a
starting point. You can find the key for a query by examining the URI after
running a normal search.</p>

<p>You can use these keys to select builtin queries and your configured saved
queries:</p></div></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tr><th class="prewrap">Query Key</th><th class="pri wide">Name</th><th>Builtin</th></tr><tr><td class="prewrap">all</td><td class="pri wide">All Portals</td><td>Builtin</td></tr></table></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-collapsed phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Custom Query Constraints</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>You can apply custom constraints by passing a dictionary in <tt class="remarkup-monospaced">constraints</tt>.
This will let you search for specific sets of results (for example, you may
want show only results with a certain state, status, or owner).</p>

<p>If you specify both a <tt class="remarkup-monospaced">queryKey</tt> and <tt class="remarkup-monospaced">constraints</tt>, the builtin or saved query
will be applied first as a starting point, then any additional values in
<tt class="remarkup-monospaced">constraints</tt> will be applied, overwriting the defaults from the original query.</p>

<p>Different endpoints support different constraints. The constraints this method
supports are detailed below. As an example, you might specify constraints like
this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Example Custom Constraints</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;constraints&quot;</span><span class="o">:</span> <span class="o">{</span>
    <span class="s">&quot;authorPHIDs&quot;</span><span class="o">:</span> <span class="o">[</span><span class="s">&quot;PHID-USER-1111&quot;</span><span class="o">,</span> <span class="s">&quot;PHID-USER-2222&quot;</span><span class="o">],</span>
    <span class="s">&quot;flavors&quot;</span><span class="o">:</span> <span class="o">[</span><span class="s">&quot;cherry&quot;</span><span class="o">,</span> <span class="s">&quot;orange&quot;</span><span class="o">],</span>
    ...
  <span class="o">},</span>
  ...
<span class="o">}</span></pre></div>

<p>This API endpoint supports these constraints:</p></div></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tr><th class="prewrap">Key</th><th class="pri">Label</th><th class="prewrap">Type</th><th class="wide">Description</th></tr><tr><td class="prewrap">ids</td><td class="pri">IDs</td><td class="prewrap">list&lt;int&gt;</td><td class="wide">Search for objects with specific IDs.</td></tr><tr class="alt"><td class="prewrap">phids</td><td class="pri">PHIDs</td><td class="prewrap">list&lt;phid&gt;</td><td class="wide">Search for objects with specific PHIDs.</td></tr><tr><td class="prewrap">query</td><td class="pri">Query</td><td class="prewrap">string</td><td class="wide">Find objects matching a fulltext search query. See &quot;Search User Guide&quot; in the documentation for details.</td></tr><tr class="alt"><td class="prewrap">projects</td><td class="pri">Tags</td><td class="prewrap">list&lt;project&gt;</td><td class="wide">Search for objects tagged with given projects.</td></tr></table></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-collapsed phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Result Ordering</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>Use <tt class="remarkup-monospaced">order</tt> to choose an ordering for the results.</p>

<p>Either specify a single key from the builtin orders (these are a set of
meaningful, high-level, human-readable orders) or specify a custom list of
low-level columns.</p>

<p>To use a high-level order, choose a builtin order from the table below
and specify it like this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Choosing a Result Order</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;order&quot;</span><span class="o">:</span> <span class="s">&quot;newest&quot;</span><span class="o">,</span>
  ...
<span class="o">}</span></pre></div>

<p>These builtin orders are available:</p></div></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tr><th class="pri">Key</th><th>Description</th><th class="wide">Columns</th></tr><tr><td class="pri">newest</td><td>Creation (Newest First)</td><td class="wide">id</td></tr><tr class="alt"><td class="pri">oldest</td><td>Creation (Oldest First)</td><td class="wide">-id</td></tr><tr><td class="pri">relevance</td><td>Relevance</td><td class="wide">rank, fulltext-modified, id</td></tr></table></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>You can choose a low-level column order instead. To do this, provide a list
of columns instead of a single key. This is an advanced feature.</p>

<p>In a custom column order:</p>

<ul class="remarkup-list">
<li class="remarkup-list-item">each column may only be specified once;</li>
<li class="remarkup-list-item">each column may be prefixed with <tt class="remarkup-monospaced">-</tt> to invert the order;</li>
<li class="remarkup-list-item">the last column must be a unique column, usually <tt class="remarkup-monospaced">id</tt>; and</li>
<li class="remarkup-list-item">no column other than the last may be unique.</li>
</ul>

<p>To use a low-level order, choose a sequence of columns and specify them like
this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Using a Custom Order</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;order&quot;</span><span class="o">:</span> <span class="o">[</span><span class="s">&quot;color&quot;</span><span class="o">,</span> <span class="s">&quot;-name&quot;</span><span class="o">,</span> <span class="s">&quot;id&quot;</span><span class="o">],</span>
  ...
<span class="o">}</span></pre></div>

<p>These low-level columns are available:</p></div></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tr><th class="pri">Key</th><th class="wide">Unique</th></tr><tr><td class="pri">id</td><td class="wide">Yes</td></tr><tr class="alt"><td class="pri">rank</td><td class="wide">No</td></tr><tr><td class="pri">fulltext-created</td><td class="wide">No</td></tr><tr class="alt"><td class="pri">fulltext-modified</td><td class="wide">No</td></tr></table></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-collapsed phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Object Fields</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>Objects matching your query are returned as a list of dictionaries in the
<tt class="remarkup-monospaced">data</tt> property of the results. Each dictionary has some metadata and a
<tt class="remarkup-monospaced">fields</tt> key, which contains the information about the object that most callers
will be interested in.</p>

<p>For example, the results may look something like this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Example Results</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;data&quot;</span><span class="o">:</span> <span class="o">[</span>
    <span class="o">{</span>
      <span class="s">&quot;id&quot;</span><span class="o">:</span> <span class="mf">123</span><span class="o">,</span>
      <span class="s">&quot;phid&quot;</span><span class="o">:</span> <span class="s">&quot;PHID-WXYZ-1111&quot;</span><span class="o">,</span>
      <span class="s">&quot;fields&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;name&quot;</span><span class="o">:</span> <span class="s">&quot;First Example Object&quot;</span><span class="o">,</span>
        <span class="s">&quot;authorPHID&quot;</span><span class="o">:</span> <span class="s">&quot;PHID-USER-2222&quot;</span>
      <span class="o">}</span>
    <span class="o">},</span>
    <span class="o">{</span>
      <span class="s">&quot;id&quot;</span><span class="o">:</span> <span class="mf">124</span><span class="o">,</span>
      <span class="s">&quot;phid&quot;</span><span class="o">:</span> <span class="s">&quot;PHID-WXYZ-3333&quot;</span><span class="o">,</span>
      <span class="s">&quot;fields&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;name&quot;</span><span class="o">:</span> <span class="s">&quot;Second Example Object&quot;</span><span class="o">,</span>
        <span class="s">&quot;authorPHID&quot;</span><span class="o">:</span> <span class="s">&quot;PHID-USER-4444&quot;</span>
      <span class="o">}</span>
    <span class="o">},</span>
    ...
  <span class="o">]</span>
  ...
<span class="o">}</span></pre></div>

<p>This result structure is standardized across all search methods, but the
available fields differ from application to application.</p>

<p>These are the fields available on this object type:</p></div></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tr><th class="pri">Key</th><th class="mono">Type</th><th class="wide">Description</th></tr><tr><td class="pri">dateCreated</td><td class="mono">int</td><td class="wide">Epoch timestamp when the object was created.</td></tr><tr class="alt"><td class="pri">dateModified</td><td class="mono">int</td><td class="wide">Epoch timestamp when the object was last updated.</td></tr><tr><td class="pri">policy</td><td class="mono">map&lt;string, wild&gt;</td><td class="wide">Map of capabilities to current policies.</td></tr></table></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-collapsed phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Attachments</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>By default, only basic information about objects is returned. If you want
more extensive information, you can use available <tt class="remarkup-monospaced">attachments</tt> to get more
information in the results (like subscribers and projects).</p>

<p>Generally, requesting more information means the query executes more slowly
and returns more data (in some cases, much more data). You should normally
request only the data you need.</p>

<p>To request extra data, specify which attachments you want in the <tt class="remarkup-monospaced">attachments</tt>
parameter:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Example Attachments Request</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;attachments&quot;</span><span class="o">:</span> <span class="o">{</span>
    <span class="s">&quot;subscribers&quot;</span><span class="o">:</span> <span class="k">true</span>
  <span class="o">},</span>
  ...
<span class="o">}</span></pre></div>

<p>This example specifies that results should include information about
subscribers. In the return value, each object will now have this information
filled out in the corresponding <tt class="remarkup-monospaced">attachments</tt> value:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Example Attachments Result</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;data&quot;</span><span class="o">:</span> <span class="o">[</span>
    <span class="o">{</span>
      ...
      <span class="s">&quot;attachments&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;subscribers&quot;</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">&quot;subscriberPHIDs&quot;</span><span class="o">:</span> <span class="o">[</span>
            <span class="s">&quot;PHID-WXYZ-2222&quot;</span><span class="o">,</span>
          <span class="o">],</span>
          <span class="s">&quot;subscriberCount&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="o">,</span>
          <span class="s">&quot;viewerIsSubscribed&quot;</span><span class="o">:</span> <span class="k">false</span>
        <span class="o">}</span>
      <span class="o">},</span>
      ...
    <span class="o">},</span>
    ...
  <span class="o">],</span>
  ...
<span class="o">}</span></pre></div>

<p>These attachments are available:</p></div></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tr><th class="prewrap">Key</th><th class="pri">Name</th><th class="wide">Description</th></tr><tr><td class="prewrap">projects</td><td class="pri">Projects</td><td class="wide">Get information about projects.</td></tr></table></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-collapsed phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Paging and Limits</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-box pl "><div class="phabricator-remarkup"><p>Queries are limited to returning 100 results at a time. If you want fewer
results than this, you can use <tt class="remarkup-monospaced">limit</tt> to specify a smaller limit.</p>

<p>If you want more results, you&#039;ll need to make additional queries to retrieve
more pages of results.</p>

<p>The result structure contains a <tt class="remarkup-monospaced">cursor</tt> key with information you&#039;ll need in
order to fetch the next page of results. After an initial query, it will
usually look something like this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Example Cursor Result</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;cursor&quot;</span><span class="o">:</span> <span class="o">{</span>
    <span class="s">&quot;limit&quot;</span><span class="o">:</span> <span class="mf">100</span><span class="o">,</span>
    <span class="s">&quot;after&quot;</span><span class="o">:</span> <span class="s">&quot;1234&quot;</span><span class="o">,</span>
    <span class="s">&quot;before&quot;</span><span class="o">:</span> <span class="k">null</span><span class="o">,</span>
    <span class="s">&quot;order&quot;</span><span class="o">:</span> <span class="k">null</span>
  <span class="o">}</span>
  ...
<span class="o">}</span></pre></div>

<p>The <tt class="remarkup-monospaced">limit</tt> and <tt class="remarkup-monospaced">order</tt> fields are describing the effective limit and order the
query was executed with, and are usually not of much interest. The <tt class="remarkup-monospaced">after</tt> and
<tt class="remarkup-monospaced">before</tt> fields give you cursors which you can pass when making another API
call in order to get the next (or previous) page of results.</p>

<p>To get the next page of results, repeat your API call with all the same
parameters as the original call, but pass the <tt class="remarkup-monospaced">after</tt> cursor you received from
the first call in the <tt class="remarkup-monospaced">after</tt> parameter when making the second call.</p>

<p>If you do things correctly, you should get the second page of results, and
a cursor structure like this:</p>

<div class="remarkup-code-block" data-code-lang="json" data-sigil="remarkup-code-block"><div class="remarkup-code-header">Second Result Page</div><pre class="remarkup-code"><span class="o">{</span>
  ...
  <span class="s">&quot;cursor&quot;</span><span class="o">:</span> <span class="o">{</span>
    <span class="s">&quot;limit&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="o">,</span>
    <span class="s">&quot;after&quot;</span><span class="o">:</span> <span class="s">&quot;4567&quot;</span><span class="o">,</span>
    <span class="s">&quot;before&quot;</span><span class="o">:</span> <span class="s">&quot;7890&quot;</span><span class="o">,</span>
    <span class="s">&quot;order&quot;</span><span class="o">:</span> <span class="k">null</span>
  <span class="o">}</span>
  ...
<span class="o">}</span></pre></div>

<p>You can now continue to the third page of results by passing the new <tt class="remarkup-monospaced">after</tt>
cursor to the <tt class="remarkup-monospaced">after</tt> parameter in your third call, or return to the previous
page of results by passing the <tt class="remarkup-monospaced">before</tt> cursor to the <tt class="remarkup-monospaced">before</tt> parameter. This
might be useful if you are rendering a web UI for a user and want to provide
&quot;Next Page&quot; and &quot;Previous Page&quot; links.</p>

<p>If <tt class="remarkup-monospaced">after</tt> is <tt class="remarkup-monospaced">null</tt>, there is no next page of results available. Likewise,
if <tt class="remarkup-monospaced">before</tt> is <tt class="remarkup-monospaced">null</tt>, there are no previous results available.</p></div></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Call Method</span></div><div class="phui-header-col3"></div></div></h1></div><form class="" action="/api/portal.search" method="POST"><input type="hidden" name="__csrf__" value="B@4ohq3nzif638f60f5fc29a3a" /><input type="hidden" name="__form__" value="1" /><div class="phui-form-view"><div class="aphront-form-instructions"><div class="phabricator-remarkup"><p>Enter parameters using <strong>JSON</strong>. For instance, to enter a list, type: <tt class="remarkup-monospaced">[&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;]</tt></p></div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_0">queryKey</label><div class="aphront-form-input"><input type="text" name="params[queryKey]" id="UQ0_0" /></div><div class="aphront-form-caption">optional string</div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_1">constraints</label><div class="aphront-form-input"><input type="text" name="params[constraints]" id="UQ0_1" /></div><div class="aphront-form-caption">optional map&lt;string, wild&gt;</div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_2">attachments</label><div class="aphront-form-input"><input type="text" name="params[attachments]" id="UQ0_2" /></div><div class="aphront-form-caption">optional map&lt;string, bool&gt;</div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_3">order</label><div class="aphront-form-input"><input type="text" name="params[order]" id="UQ0_3" /></div><div class="aphront-form-caption">optional order</div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_4">before</label><div class="aphront-form-input"><input type="text" name="params[before]" id="UQ0_4" /></div><div class="aphront-form-caption">optional string</div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_5">after</label><div class="aphront-form-input"><input type="text" name="params[after]" id="UQ0_5" /></div><div class="aphront-form-caption">optional string</div></div><div class="aphront-form-control grouped aphront-form-control-text"><label class="aphront-form-label" for="UQ0_6">limit</label><div class="aphront-form-input"><input type="text" name="params[limit]" id="UQ0_6" /></div><div class="aphront-form-caption">optional int (default = 100)</div></div></div></form></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Examples</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-info-view phui-info-severity-notice grouped phui-info-has-icon "><div class="phui-info-view-icon"><span class="visual-only phui-icon-view phui-font-fa fa-info-circle phui-info-icon" data-meta="0_3" aria-hidden="true"></span></div><div class="phui-info-view-body"><ul class="phui-info-view-list"><li>Use the <strong><a href="/settings/panel/apitokens/">Conduit API Tokens</a></strong> panel in Settings to generate or manage API tokens.</li><li>If you submit parameters, these examples will update to show exactly how to encode the parameters you submit.</li></ul></div></div><div class=" " data-sigil="phui-tab-group-view" data-meta="0_4"><ul class="phui-list-view phui-list-navbar phui-list-navbar-horizontal "><li class="phui-list-item-view phui-list-item-type-link phui-list-item-selected " data-sigil="phui-tab-view" data-meta="0_5"><a href="#" class="phui-list-item-href" data-sigil=""><span class="phui-list-item-name">arc call-conduit</span></a></li><li class="phui-list-item-view phui-list-item-type-link " data-sigil="phui-tab-view" data-meta="0_6"><a href="#" class="phui-list-item-href" data-sigil=""><span class="phui-list-item-name">cURL</span></a></li><li class="phui-list-item-view phui-list-item-type-link " data-sigil="phui-tab-view" data-meta="0_7"><a href="#" class="phui-list-item-href" data-sigil=""><span class="phui-list-item-name">PHP</span></a></li></ul><div id="UQ0_7"><div class=""><div class="phui-property-list-section"><div class="phui-property-list-raw-content"><div class="PhabricatorMonospaced conduit-api-example-code">$ echo <strong>&lt;json-parameters&gt;</strong> | arc call-conduit --conduit-uri <strong class="real">https://bugs.discord.com/</strong> --conduit-token <strong>&lt;conduit-token&gt;</strong> -- portal.search</div></div></div></div></div><div style="display: none;" id="UQ0_8"><div class=""><div class="phui-property-list-section"><div class="phui-property-list-raw-content"><div class="PhabricatorMonospaced conduit-api-example-code">$ curl <strong class="real">https://bugs.discord.com/api/portal.search</strong> \<br />    -d api.token=<strong>api-token</strong> \<br />    -d <strong>param</strong>=<strong>value</strong> \<br />    <strong>...</strong></div></div></div></div></div><div style="display: none;" id="UQ0_9"><div class=""><div class="phui-property-list-section"><div class="phui-property-list-raw-content"><div class="PhabricatorMonospaced conduit-api-example-code">&lt;?php

require_once &#039;path/to/arcanist/support/init/init-script.php&#039;;

$api_token = &quot;<strong>&lt;api-token&gt;</strong>&quot;;
$api_parameters = array(<strong>&lt;parameters&gt;</strong>);

$client = new ConduitClient(<strong class="real">&#039;https://bugs.discord.com/&#039;</strong>);
$client-&gt;setConduitToken($api_token);

$result = $client-&gt;callMethodSynchronous(<strong class="real">&#039;portal.search&#039;</strong>, $api_parameters);
print_r($result);</div></div></div></div></div></div></div></div></div></div></div></div></div><script type="text/javascript" src="https://bugs.discord.com/res/defaultX/phabricator/68f29322/core.pkg.js"></script><data data-javelin-init-kind="merge" data-javelin-init-data="{&quot;block&quot;:0,&quot;data&quot;:[[],[],[],[],{&quot;tabMap&quot;:{&quot;arc&quot;:&quot;UQ0_7&quot;,&quot;curl&quot;:&quot;UQ0_8&quot;,&quot;php&quot;:&quot;UQ0_9&quot;}},{&quot;tabKey&quot;:&quot;arc&quot;},{&quot;tabKey&quot;:&quot;curl&quot;},{&quot;tabKey&quot;:&quot;php&quot;},[],{&quot;map&quot;:{&quot;UQ0_10&quot;:&quot;phabricator-search-menu-expanded&quot;,&quot;UQ0_25&quot;:&quot;menu-icon-selected&quot;}},{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_12\&quot; class=\&quot;phabricator-action-view phabricator-action-view-type-label\&quot; style=\&quot;\&quot;\u003e\u003cspan class=\&quot;phabricator-action-view-item\&quot;\u003eQueries\u003c\/span\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_14\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/conduit\/query\/modern\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eModern Methods\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_16\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/conduit\/query\/all\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eAll Methods\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_18\&quot; class=\&quot;phabricator-action-view phabricator-action-view-type-label\&quot; style=\&quot;\&quot;\u003e\u003cspan class=\&quot;phabricator-action-view-item\&quot;\u003eSearch\u003c\/span\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_20\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/conduit\/query\/advanced\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eAdvanced Search\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_22\&quot; class=\&quot;phabricator-action-view phabricator-action-view-type-label\&quot; style=\&quot;\&quot;\u003e\u003cspan class=\&quot;phabricator-action-view-item\&quot;\u003eLogs\u003c\/span\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_24\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/conduit\/log\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eCall Logs\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;items&quot;:[{&quot;name&quot;:&quot;Search&quot;},{&quot;icon&quot;:&quot;fa-globe&quot;,&quot;name&quot;:&quot;All Documents&quot;,&quot;value&quot;:&quot;all&quot;},{&quot;icon&quot;:&quot;fa-dot-circle-o&quot;,&quot;name&quot;:&quot;Current Application&quot;,&quot;value&quot;:&quot;application&quot;},{&quot;name&quot;:&quot;Saved Queries&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Open Documents&quot;,&quot;value&quot;:&quot;open&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Open Tasks&quot;,&quot;value&quot;:&quot;open-tasks&quot;},{&quot;name&quot;:&quot;More Options&quot;},{&quot;icon&quot;:&quot;fa-search-plus&quot;,&quot;name&quot;:&quot;Advanced Search&quot;,&quot;href&quot;:&quot;\/search\/query\/advanced\/&quot;},{&quot;icon&quot;:&quot;fa-book&quot;,&quot;name&quot;:&quot;User Guide: Search&quot;,&quot;href&quot;:&quot;https:\/\/secure.phabricator.com\/diviner\/find\/?name=Search%20User%20Guide&amp;type=article&amp;jump=1&quot;}],&quot;icon&quot;:&quot;fa-globe&quot;,&quot;value&quot;:&quot;all&quot;},[],[],[]]}"></data><data data-javelin-init-kind="behaviors" data-javelin-init-data="{&quot;refresh-csrf&quot;:[{&quot;tokenName&quot;:&quot;__csrf__&quot;,&quot;header&quot;:&quot;X-Phabricator-Csrf&quot;,&quot;viaHeader&quot;:&quot;X-Phabricator-Via&quot;,&quot;current&quot;:&quot;B@4ohq3nzif638f60f5fc29a3a&quot;}],&quot;history-install&quot;:[]}"></data><data data-javelin-init-kind="behaviors" data-javelin-init-data="{&quot;phui-tab-group&quot;:[],&quot;workflow&quot;:[],&quot;lightbox-attachments&quot;:[],&quot;aphront-form-disable-on-submit&quot;:[],&quot;toggle-class&quot;:[],&quot;phabricator-gesture&quot;:[],&quot;device&quot;:[],&quot;high-security-warning&quot;:[{&quot;show&quot;:false,&quot;uri&quot;:&quot;\/auth\/session\/downgrade\/&quot;,&quot;message&quot;:&quot;Your session is in high security mode. When you finish using it, click here to leave.&quot;}],&quot;phui-dropdown-menu&quot;:[],&quot;phabricator-keyboard-shortcuts&quot;:[{&quot;helpURI&quot;:&quot;\/help\/keyboardshortcut\/&quot;,&quot;searchID&quot;:&quot;UQ0_26&quot;,&quot;pht&quot;:{&quot;\/&quot;:&quot;Give keyboard focus to the search box.&quot;,&quot;?&quot;:&quot;Show keyboard shortcut help for the current page.&quot;}}],&quot;phabricator-search-typeahead&quot;:[{&quot;id&quot;:&quot;UQ0_27&quot;,&quot;input&quot;:&quot;UQ0_26&quot;,&quot;button&quot;:&quot;UQ0_28&quot;,&quot;selectorID&quot;:&quot;UQ0_29&quot;,&quot;applicationID&quot;:&quot;UQ0_30&quot;,&quot;defaultApplicationIcon&quot;:&quot;fa-dot-circle-o&quot;,&quot;appScope&quot;:&quot;application&quot;,&quot;src&quot;:&quot;\/typeahead\/class\/PhabricatorSearchDatasource\/&quot;,&quot;limit&quot;:10,&quot;placeholder&quot;:&quot;Search&quot;,&quot;scopeUpdateURI&quot;:&quot;\/settings\/adjust\/?key=search-scope&quot;}],&quot;quicksand-blacklist&quot;:[{&quot;patterns&quot;:[&quot;\/phame\/live\/.*&quot;,&quot;\/conpherence\/.*&quot;,&quot;\/Z\\d+&quot;,&quot;\/file\/(data|download)\/.*&quot;,&quot;\/phortune\/.*&quot;,&quot;\/auth\/.*&quot;]}]}"></data><script>(function(){var js = "window['__CF$cv$params']={r:'75be27700a139855',m:'lSA55HAUjG3tvkIRmgEI1TIeheOFdTFVaYi2BK0v53w-1666063393-0-AWs9E/nZX8TBTkZUPiHxDXUv8mgaiISwje8EepFMzUrQ3w+u5N4KxAG7DZkCpnRWzA5wS45CWCO7cqPyyH3NxNy9tzDQrw8ATjNhFbo5Qe7dv+VtigCgplTQyqkdX0ueqWsBRvP3xYhG1wHALtX1WT4=',s:[0xbc81632f40,0x680f813d9a],u:'/cdn-cgi/challenge-platform/h/b'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/b/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body></html>